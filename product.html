<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SwapCart ‚Äî Product</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .product-page {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      background: #fff;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      margin-top: 30px;
    }
    .product-img {
      flex: 1;
      min-width: 280px;
      text-align: center;
    }
    .product-img img {
      width: 100%;
      max-width: 350px;
      border-radius: 10px;
      border: 1px solid #ddd;
    }
    .product-info {
      flex: 2;
      min-width: 320px;
    }
    .product-info h2 {
      color: #333;
      margin-bottom: 8px;
    }
    .product-price {
      color: #ff6a00;
      font-size: 1.6em;
      margin-bottom: 10px;
    }
    .product-meta {
      color: #777;
      font-size: 14px;
      margin-bottom: 15px;
    }
    .buy-btn, .cart-btn {
      display: inline-block;
      margin-right: 10px;
      padding: 10px 20px;
      background: #ff6a00;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .cart-btn {
      background: #333;
    }
    .cart-btn:hover, .buy-btn:hover {
      opacity: 0.85;
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container topbar">
      <div class="brand"><a href="index.html" style="text-decoration:none;color:#ff6a00;">SwapCart</a></div>
      <div class="actions">
        <a href="index.html" class="icon-btn orange">Home</a>
      </div>
    </div>
  </header>

  <main class="container">
  <div id="product-details" class="product-page"></div>

  <section id="reviews-section" class="card" style="margin-top:30px; padding:20px;">
    <h3>üó®Ô∏è Reviews & Comments</h3>

    <div id="reviews-list" style="margin-top:15px;"></div>

    <div id="review-form" style="margin-top:20px;">
      <h4>Leave a Review</h4>
      <textarea id="review-text" rows="3" placeholder="Write your comment here..." style="width:100%;padding:10px;border-radius:6px;border:1px solid #ccc;"></textarea>
      <div style="margin-top:10px;">
        Rating:
        <select id="review-rating">
          <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</option>
          <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê</option>
          <option value="3">‚≠ê‚≠ê‚≠ê</option>
          <option value="2">‚≠ê‚≠ê</option>
          <option value="1">‚≠ê</option>
        </select>
      </div>
      <button class="buy-btn" style="margin-top:10px;" onclick="submitReview()">Submit Review</button>
    </div>
  </section>
</main>

  <!-- Global Chat Modal -->
  <div id="global-chat-modal" class="modal" style="display:none;">
    <div class="modal-content card" style="max-width:600px;margin:auto;">
      <h3 id="global-chat-with-name">Chat</h3>
      <div id="global-chat-messages" style="max-height:300px;overflow-y:auto;border:1px solid #ccc;padding:10px;margin-bottom:10px;"></div>
      <textarea id="global-chat-input" rows="2" placeholder="Type your message..."></textarea>
      <button class="btn orange" id="global-send-chat-btn">Send</button>
      <button class="btn" id="global-close-chat-btn">Close</button>
    </div>
  </div>

  <!-- Chat Bot Button -->
  <button class="chat-bot-btn" onclick="startChatbot()" title="Customer Service Chat">
    ü§ñ
  </button>

  <!-- View Chats Button -->
  <button class="view-chats-btn" onclick="viewChatSessions()">
    üí¨ View Chats
  </button>

  <script src="script.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const params = new URLSearchParams(window.location.search);
      const productId = parseInt(params.get('id'));
      loadProductDetails(productId);
      loadReviews(productId);
    });

    function buyNow(id) {
      addToCart(id);
      window.location.href = 'cart.html';
    }
  </script>
</body>
</html>